<div class=page>
    {% for entry in pagination.items %}
        {% if entry.id in short_group_starter_ids %}
            <div class=short-group>
        {% endif %}

        {% include "parts/entry.html.jinja" %}

        {% if entry.id in short_group_ender_ids %}
                <script>
                    mergeShortGroups(document.currentScript.parentNode)
                </script>
            </div>
        {% endif %}
    {% endfor %}

    <script>processAllText()</script>

    {% if pagination.next_url %}
        <div
            class="lazy-loader {{'large' if pagination.running_short else ''}}"
            hx-get="{{pagination.next_url}}"
            hx-trigger="{{'load' if pagination.finding else 'intersect once'}}"
            hx-select=".page > *"
            hx-swap="outerHTML ignoreTitle:true"
        ></div>
    {% endif %}
</div>

{% if pagination and pagination.page < 2 and not pagination.next_url %}
    <p class=nothing-found>Nothing found</p>
{% endif %}
