{% set url = local_url(entry.shortest_url or entry.url) %}
{% set target = "#explore-column" %}
{% if entry.entry_type in ("VideoEntry", "ShortEntry") %}
    {% set target = "#video-column" %}
{% endif %}

<div class=entry>
    <a
        class=thumbnail
        href="{{url}}"
        hx-get="{{url}}"
        hx-select="{{target}}"
        hx-target="{{target}}"
        hx-push-url=true
    >
        <div>
            <img sizes=10rem srcset="{{entry.thumbnails_srcset}}">

            {% if entry.live_status == LiveStatus.is_live %}
                <span class=duration>live</span>
            {% elif entry.live_status == LiveStatus.is_upcoming %}
                <span class=duration>soon</span>
            {% elif entry.duration %}
                <span class=duration>{{format_duration(entry.duration)}}</span>
            {% endif %}
        </div>
    </a>

    <div class=info>
        <a class="title elide" title="{{entry.title}}" href={{url}}>
            {{entry.title}}
        </a>

        {% if entry.channel_name %}
            <div class="channel elide">
                <span class=icon>👤{{no_emoji}}</span>
                <a
                    title="{{entry.channel_name}}"
                    href="{{local_url(entry.shortest_channel_url)}}"
                >{{entry.channel_name}}</a>
            </div>
        {% endif %}

        {% if entry.release_date %}
            <span class=date title="Release date">
                <span class=icon>🕒{{no_emoji}}</span>
                <span class=youtube-date
                      raw="{{entry.release_date.timestamp()}}"></span>
            </span>
        {% endif %}

        {% if entry.views %}
            <span class=views title=Views>
                <span class=icon>👁{{no_emoji}}</span>
                <span class=compact-number raw="{{entry.views}}"></span>
            </span>
        {% endif %}

        {% if entry.followers %}
            <span class=followers title=Suscribers>
                <span class=icon>👥{{no_emoji}}</span>
                <span class=compact-number raw="{{entry.followers}}"></span>
            </span>
        {% endif %}

    </div>
</div>
