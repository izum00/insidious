{%- macro link_attrs(url=entry.url, target="#main-column") %}
    href="{{local_url(url)}}"
    hx-get="{{local_url(url)}}"
    hx-select={{target}}
    hx-target={{target}}
    hx-push-url=true
{%- endmacro %} 

<div class=entry>
    <a
        {{link_attrs()}}
        class=thumbnail
        style="background: url('{{entry.thumb_for(160).fixed_url}}')"
    >
        {% if entry.live_status == LiveStatus.is_live %}
            <span class=duration>live</span>
        {% elif entry.live_status == LiveStatus.is_upcoming %}
            <span class=duration>soon</span>
        {% elif entry.duration %}
            <span class=duration>{{format_duration(entry.duration)}}</span>
        {% endif %}
    </a>

    <div class=info>
        <a class="title elide" title="{{entry.title}}" {{link_attrs()}}>
            {{entry.title}}
        </a>

        {% if entry.channel_name %}
            <div class="channel elide">
                <span class=icon>👤{{no_emoji}}</span>
                <a
                    {{link_attrs(entry.channel_url)}}"
                    title="{{entry.channel_name}}"
                >{{entry.channel_name}}</a>
            </div>
        {% endif %}

        {% if entry.release_date %}
            <span class=date>
                <span class=icon>🕒{{no_emoji}}</span>
                <span class=youtube-date
                      raw="{{entry.release_date.timestamp()}}"></span>
            </span>
        {% endif %}

        {% if entry.views %}
            <span class=views>
                <span class=icon>👁{{no_emoji}}</span>
                <span class=compact-number raw="{{entry.views}}"></span>
            </span>
        {% endif %}
    </div>
</div>
